---
// Header component with logo and navigation
---

<header class="header">
    <div class="container">
        <div class="header-content">
            <a href="/" class="logo-link">
                <img
                    src="/fransisco-head-logo-m.png"
                    alt="Fransisco Wiles Marketing"
                    class="logo"
                />
            </a>
            <nav class="nav">
                <a href="/articles" class="nav-link nav-desktop-item">
                    Articles
                </a>
                <a href="/reviews" class="nav-link nav-desktop-item">
                    Reviews
                </a>
                <a href="/connect" class="nav-link nav-desktop-item">
                    Connect
                </a>
                <a
                    href="/schedule"
                    class="btn btn-primary nav-desktop-item"
                >
                    Schedule a FREE strategy call
                </a>
                <button
                    type="button"
                    class="btn btn-secondary nav-menu-button"
                    aria-controls="nav-menu"
                    aria-expanded="false"
                >
                    Menu
                </button>
            </nav>
        </div>
    </div>

    <div class="nav-overlay" id="nav-menu" role="dialog" aria-modal="true">
        <div class="nav-backdrop" data-menu-close></div>
        <div class="nav-panel" role="document">
            <button
                type="button"
                class="nav-close"
                aria-label="Close menu"
                data-menu-close
            >
                Ã—
            </button>
            <div class="nav-panel-content">
                <a href="/articles" class="nav-panel-link">Articles</a>
                <a href="/reviews" class="nav-panel-link">Reviews</a>
                <a href="/connect" class="nav-panel-link">Connect</a>
                <a href="/schedule" class="btn btn-primary nav-panel-cta">
                    Schedule your FREE Consultation
                </a>
            </div>
        </div>
    </div>
</header>

<script>
    const menuButton = document.querySelector(
        ".nav-menu-button"
    ) as HTMLButtonElement | null;
    const overlay = document.querySelector(".nav-overlay");

    const setMenuOpen = (isOpen: boolean) => {
        if (!overlay || !menuButton) return;
        overlay.classList.toggle("is-open", isOpen);
        menuButton.setAttribute("aria-expanded", String(isOpen));
        document.body.style.overflow = isOpen ? "hidden" : "";
    };

    if (menuButton && overlay) {
        menuButton.addEventListener("click", () => setMenuOpen(true));

        overlay.querySelectorAll("[data-menu-close]").forEach((element) => {
            element.addEventListener("click", () => setMenuOpen(false));
        });

        document.addEventListener("keydown", (event) => {
            if (event.key === "Escape") {
                setMenuOpen(false);
            }
        });
    }
</script>

<style>
    .header {
        padding: var(--space-4) 0;
        background: var(--background);
    }

    .header-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: var(--space-4);
    }

    .logo-link {
        display: block;
        line-height: 0;
    }

    .logo {
        height: 48px;
        width: auto;
        transition: transform 0.6s ease-in-out;
    }

    .logo:hover {
        animation: spin 2s linear infinite;
    }

    @keyframes spin {
        from {
            transform: rotate(0deg);
        }
        to {
            transform: rotate(360deg);
        }
    }

    .nav {
        display: flex;
        align-items: center;
        gap: var(--space-6);
    }

    .nav-link {
        font-size: var(--text-sm);
        color: var(--muted-foreground);
        font-weight: 700;
        transition: color 0.2s;
    }

    .nav-link:hover {
        color: var(--primary);
        text-decoration: none;
    }

    .nav-menu-button {
        align-self: center;
        display: none;
    }

    .nav-overlay {
        position: fixed;
        inset: 0;
        display: none;
        align-items: flex-start;
        justify-content: flex-end;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.2s ease;
        z-index: 50;
    }

    .nav-overlay.is-open {
        display: flex;
        opacity: 1;
        pointer-events: auto;
    }

    .nav-backdrop {
        position: absolute;
        inset: 0;
        background: rgba(15, 22, 36, 0.7);
    }

    .nav-panel {
        position: relative;
        background: white;
        border-radius: var(--radius-lg) 0 0 var(--radius-lg);
        box-shadow: var(--shadow-card);
        padding: var(--space-8);
        height: 100vh;
        width: 80vw;
        max-width: 80vw;
        transform: translateX(100%);
        transition: transform 0.3s ease;
        z-index: 1;
    }

    .nav-overlay.is-open .nav-panel {
        transform: translateX(0);
    }

    .nav-close {
        position: absolute;
        top: var(--space-4);
        right: var(--space-4);
        width: 36px;
        height: 36px;
        border-radius: 50%;
        border: 1px solid var(--border);
        background: white;
        font-size: 1.5rem;
        line-height: 1;
        display: grid;
        place-items: center;
        cursor: pointer;
    }

    .nav-panel-content {
        display: grid;
        gap: var(--space-4);
        margin-top: var(--space-6);
        text-align: center;
    }

    .nav-panel-link {
        font-size: 1.1rem;
        font-weight: 700;
        color: var(--foreground);
    }

    .nav-panel-cta {
        justify-content: center;
    }

    /* Mobile responsive */
    @media (max-width: 768px) {
        .logo {
            height: 40px;
        }

        .nav-desktop-item {
            display: none;
        }

        .nav-menu-button {
            display: inline-flex;
        }

        .nav-panel {
            width: 80vw;
            max-width: 80vw;
            padding: var(--space-6);
        }
    }
</style>
